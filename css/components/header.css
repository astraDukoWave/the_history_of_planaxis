/* ============================================================================
   HEADER.CSS - Navegación con Glassmorphism
   
   ¿POR QUÉ @layer components?
   Este archivo forma parte de la capa "components" en nuestra arquitectura CSS.
   Los componentes tienen mayor prioridad que reset, base y layout, permitiendo
   sobrescribir estilos estructurales cuando sea necesario.
   ============================================================================ */

@layer components {
  /* ========================================================================
     MAIN HEADER - Navegación Transparente Superpuesta al Hero
     
     ¿POR QUÉ position: absolute en lugar de fixed?
     ==============================================
     El header se superpone DENTRO del hero (no flota sobre toda la página).
     Esto crea el efecto "header transparente" donde la imagen del hero
     se ve detrás de la navegación. Usamos absolute para posicionarlo
     relativo al hero (que tiene position: relative).
     
     ¿POR QUÉ position: fixed como alternativa?
     ==========================================
     Si prefieres que el header SIEMPRE esté visible al hacer scroll,
     cambia a position: fixed. La clase .scrolled aplica el efecto
     glassmorphism cuando el usuario hace scroll.
     
     PATRÓN GLASSMORPHISM: Combinación de:
     1. background semi-transparente (rgba con alpha)
     2. backdrop-filter: blur() (desenfoque del fondo)
     3. border sutil para definir bordes
     Crea el efecto de "vidrio esmerilado" moderno de iOS/macOS.
     
     ACCESIBILIDAD: El header siempre es accesible con teclado gracias
     a z-index alto y elementos focusables correctamente ordenados.
     ======================================================================== */
  .main-header {
    /* ========================================================================
       POSICIONAMIENTO FIJO (STICKY HEADER)
       
       ¿POR QUÉ position: fixed?
       =========================
       El header permanece SIEMPRE visible en la parte superior de la pantalla,
       independientemente de cuánto scroll haga el usuario. Esto mejora la
       navegación porque los enlaces están siempre accesibles.
       
       width: 100% asegura que el header ocupe todo el ancho del viewport.
       
       NOTA: El header empieza transparente y obtiene fondo con glassmorphism
       cuando el usuario hace scroll (> 50px), controlado por JS que añade
       la clase .scrolled.
       ======================================================================== */
    position: fixed;
    width: 100%;
    inset-inline: 0;  /* left: 0; right: 0; en propiedades lógicas */
    top: 0;
    z-index: var(--z-modal);
    
    padding-block: var(--space-md);
    
    /* Background transparente por defecto para ver la imagen del hero */
    background-color: transparent;
    
    /* Transiciones suaves para el efecto de scroll */
    transition: 
      background-color var(--transition-normal) var(--easing-default),
      box-shadow var(--transition-normal) var(--easing-default),
      backdrop-filter var(--transition-normal) var(--easing-default);
  }

  /* Estado con scroll - Activado via JavaScript
     -------------------------------------------
     Cuando el usuario hace scroll >50px, JavaScript agrega .scrolled */
  .main-header.scrolled {
    background-color: rgba(5, 10, 20, 0.9);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
  }

  /* Contenedor de Navegación
     ------------------------ */
  .main-header nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-md);

    max-width: min(1400px, 94vw);
    margin-inline: auto;
    padding-inline: var(--space-md);
  }

  /* ========================================================================
     LOGO
     ======================================================================== */
  .logo {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--color-accent-gold);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    
    transition: color var(--transition-fast) var(--easing-default);
  }

  .logo:hover {
    color: var(--color-accent-teal);
  }

  /* ========================================================================
     NAVIGATION LINKS
     
     ¿POR QUÉ flex-wrap: nowrap?
     Asegura que todos los elementos de navegación permanezcan en una sola
     línea, evitando que se rompan a la siguiente línea en pantallas medianas.
     ======================================================================== */
  .nav-links {
    display: flex;
    gap: clamp(0.6rem, 1.2vw, 1.2rem);
    align-items: center;
    flex-wrap: nowrap;
    margin-inline-start: auto;
    min-width: 0;
  }

  .nav-links li a {
    position: relative;

    padding: var(--space-2xs) var(--space-xs);

    font-size: clamp(0.8rem, 0.62rem + 0.35vw, 0.94rem);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-main);
    white-space: nowrap;

    transition: color var(--transition-fast) var(--easing-default);
  }

  /* Subrayado animado con pseudo-elemento */
  .nav-links li a::after {
    content: '';
    position: absolute;
    inset-inline: 0;
    bottom: -4px;
    
    height: 2px;
    background-color: var(--color-accent-gold);
    
    transform: scaleX(0);
    transform-origin: left;
    transition: transform var(--transition-normal) var(--easing-default);
  }

  .nav-links li a:hover {
    color: var(--color-accent-gold);
  }

  .nav-links li a:hover::after {
    transform: scaleX(1);
  }

  /* Estado activo */
  .nav-links li a.active {
    color: var(--color-accent-gold);
  }

  .nav-links li a.active::after {
    transform: scaleX(1);
  }

  /* ========================================================================
     SELECTOR DE IDIOMA
     ======================================================================== */
  .language-selector {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
    margin-inline-start: clamp(var(--space-xs), 1.4vw, var(--space-md));
    padding-inline-start: clamp(var(--space-2xs), 0.8vw, var(--space-sm));
    border-inline-start: 1px solid rgba(255, 255, 255, 0.18);
  }

  .lang-link {
    padding: var(--space-2xs) var(--space-xs);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: var(--radius-sm);
    
    transition: all var(--transition-normal) var(--easing-default);
  }

  .lang-link::after {
    display: none !important;
  }

  .lang-link.active {
    background: var(--color-accent-gold);
    color: var(--color-bg-primary);
  }

  .lang-link:not(.active) {
    color: var(--color-text-muted);
  }

  .lang-link:not(.active):hover {
    color: var(--color-text-primary);
    background: rgba(255, 255, 255, 0.1);
  }

  .lang-separator {
    color: var(--color-text-muted);
    font-size: var(--font-size-sm);
  }



  @media (min-width: 1024px) {
    .main-header nav {
      background: rgba(5, 10, 20, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--radius-full);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      padding-block: var(--space-xs);
    }

    .nav-links li a {
      border-radius: var(--radius-full);
      padding-inline: clamp(0.45rem, 0.8vw, 0.7rem);
    }

    .nav-links li a:hover {
      background: rgba(255, 255, 255, 0.06);
    }
  }

  /* ========================================================================
     MOBILE MENU TOGGLE
     
     Oculto por defecto, mostrado en móvil via responsive.css
     ======================================================================== */
  .mobile-menu-toggle {
    display: none;
    justify-content: center;
    align-items: center;
    
    width: 44px;  /* Mínimo target táctil WCAG */
    height: 44px;
    
    background-color: transparent;
    border: none;
    cursor: pointer;
    
    transition: transform var(--transition-fast) var(--easing-default);
  }

  .mobile-menu-toggle span {
    display: block;
    width: 25px;
    height: 3px;
    background: var(--color-text-main);
    margin: 5px 0;
    transition: all var(--transition-fast) var(--easing-default);
  }
}

