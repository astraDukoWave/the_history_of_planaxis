/* ============================================================================
   HEADER.CSS - Navegación Sticky Fija con Glassmorphism
   
   ¿POR QUÉ? La UX moderna demanda que la navegación esté siempre accesible. Un header
   fijo sigue al usuario mientras hace scroll, eliminando la necesidad de volver al
   tope para acceder al menú. Esto mejora usabilidad y reduce fricción.
   
   ¿CÓMO FUNCIONA? Usamos position: fixed en lugar de absolute para mantener el header
   en el viewport todo el tiempo. Combinado con estilos activados por scroll, se
   convierte en un sistema de navegación inteligente que se adapta al comportamiento
   del usuario.
   
   ANALOGÍA FEYNMAN: Es como tener un menú de restaurante pegado a tu mesa con velcro.
   No importa cuánto te muevas o estires para alcanzar la comida, el menú siempre está
   ahí, fácil de consultar. No tienes que buscarlo o levantarte por él.
   
   RESULTADO: Una barra de navegación persistente que es transparente arriba pero gana
   un fondo de vidrio esmerilado al hacer scroll, asegurando legibilidad sin bloquear
   contenido innecesariamente.
   ============================================================================ */

/* ¿POR QUÉ? La clase main-header define nuestra barra de navegación primaria. position:
   fixed es crucial porque remueve el header del flujo del documento Y lo mantiene en
   la misma posición relativa al viewport, incluso cuando se hace scroll.
   
   NOTA DE RENDIMIENTO: El posicionamiento fixed es acelerado por GPU en navegadores
   modernos, haciendo las animaciones de scroll suaves. El navegador crea una capa
   separada para el header, evitando repintados costosos de toda la página en scroll.
   
   ¿CÓMO FUNCIONA? top: 0 lo posiciona en el tope del viewport (no de la página), y
   width: 100% hace que abarque toda la pantalla. left: 0 asegura que empiece desde
   el borde izquierdo. El header ahora "flota" sobre todo el contenido, siempre visible.
   
   RESULTADO: El header permanece con el usuario mientras hacen scroll, proporcionando
   acceso constante a navegación sin requerir que vuelvan al tope. */
.main-header {
  position: fixed; /* Cambiado de absolute a fixed para comportamiento sticky */
  top: 0;
  left: 0;
  width: 100%;
  /* ¿POR QUÉ? z-index: 1000 asegura que el header permanezca encima de TODO el contenido
     en la página. Esto es crítico para headers fixed - sin z-index apropiado, el contenido
     al hacer scroll aparecería sobre la navegación, haciéndola inutilizable.
     
     ¿CÓMO FUNCIONA? Usamos un valor alto (1000) que es improbable que entre en conflicto
     con otros elementos. La mayoría del contenido usa valores z-index bajo 100, así que
     1000 proporciona un buffer seguro.
     
     GLOSARIO: z-index = controla el orden de apilamiento. Piensa en hojas de papel
     transparente apiladas - números más altos están "más arriba" en la pila.
     
     RESULTADO: La navegación es siempre clickeable y visible, nunca oculta detrás de
     contenido, sin importar por qué pase el usuario haciendo scroll. */
  z-index: 1000; /* Valor alto explícito para posicionamiento fixed */
  
  /* ¿POR QUÉ? Agregar padding vertical crea espacio arriba y abajo de los enlaces de
     navegación, haciéndolos más fáciles de hacer clic (target táctil más grande) y
     visualmente balanceados.
     
     ¿CÓMO FUNCIONA? --spacing-md nos da 24px de padding arriba y abajo. Esto crea un
     área de clic cómoda sin hacer el header demasiado alto.
     
     RESULTADO: Un header que es fácil de usar tanto en escritorio (mouse) como móvil (touch). */
  padding-top: var(--spacing-md);
  padding-bottom: var(--spacing-md);
  
  /* ¿POR QUÉ? Las transiciones hacen que el header se adapte suavemente cuando agregamos
     efectos en scroll (como cambiar color de fondo, agregar sombra o aplicar backdrop-filter).
     Sin transiciones, estos cambios serían bruscos y poco profesionales.
     
     ¿CÓMO FUNCIONA? Hacemos transición a múltiples propiedades (background-color, box-shadow
     y el crucial backdrop-filter) con easing suave. La duración de 0.3s es lo suficientemente
     rápida para sentirse responsiva pero lo suficientemente lenta para percibirse como suave.
     
     RESULTADO: Cuando el usuario hace scroll pasado 50px, el header elegantemente se
     transforma de transparente a tener un efecto de vidrio esmerilado, proporcionando
     retroalimentación visual clara. */
  transition: background-color var(--transition-normal) var(--easing-default),
              box-shadow var(--transition-normal) var(--easing-default),
              backdrop-filter var(--transition-normal) var(--easing-default);
}

/* ¿POR QUÉ? Cuando los usuarios hacen scroll pasado 50px (umbral definido en JS),
   queremos que el header gane un fondo de vidrio esmerilado para legibilidad. La
   clase .scrolled (agregada vía listener de evento de scroll en JavaScript) activa
   esta transformación.
   
   EFECTO GLASSMORPHISM: Esto crea la estética moderna de "vidrio esmerilado" al
   combinar un fondo semi-transparente con backdrop-filter blur, haciendo que el
   contenido detrás del header aparezca difuminado y ligeramente saturado.
   
   ¿CÓMO FUNCIONA? El fondo usa azul-negro muy oscuro con 90% de opacidad,
   proporcionando legibilidad sólida mientras mantiene algo de translucidez.
   backdrop-filter: blur(10px) es la magia - difumina cualquier contenido que esté
   DETRÁS de este elemento (a diferencia de filter regular que difuminaría el header mismo).
   
   RESULTADO: El header se vuelve altamente visible y legible contra cualquier contenido
   mientras mantiene la estética elegante de glassmorphism. Los usuarios pueden ver
   sutilmente contenido scrolleando detrás del header, proporcionando retroalimentación
   visual agradable. */
.main-header.scrolled {
  background-color: rgba(5, 10, 20, 0.9); /* Color océano oscuro con 90% opacidad */
  
  /* ¿POR QUÉ? backdrop-filter es la clave del glassmorphism. Aplica un efecto de blur
     al área DETRÁS del elemento, creando ese efecto de ventana de vidrio esmerilado.
     
     SOPORTE DE NAVEGADOR: backdrop-filter es soportado en todos los navegadores modernos
     (Chrome 76+, Firefox 103+, Safari 9+). Incluimos el prefijo -webkit- para versiones
     antiguas de Safari.
     
     RENDIMIENTO: backdrop-filter es acelerado por GPU y tiene buen rendimiento, pero
     puede ser costoso en dispositivos de gama baja. Por eso solo lo aplicamos en scroll
     (cuando el usuario ha mostrado compromiso) en lugar de tenerlo activo siempre.
     
     ¿CÓMO FUNCIONA? blur(10px) crea un blur de radio de 10 píxeles del contenido de
     fondo. Esto es lo suficientemente fuerte para crear el efecto pero no tan fuerte
     que sea distractor.
     
     ANALOGÍA FEYNMAN: Es como mirar a través del vidrio esmerilado de una ducha.
     Puedes ver formas y colores detrás, pero los detalles están difuminados. El vidrio
     (header) es claro pero difumina lo que está detrás para enfocarte en lo que está
     escrito en el vidrio.
     
     RESULTADO: El contenido detrás del header aparece elegantemente difuminado, como
     viendo a través de vidrio texturizado, mientras el contenido del header permanece
     perfectamente nítido. */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px); /* Soporte Safari */
  
  /* ¿POR QUÉ? Una sombra sutil ayuda a separar el header del contenido debajo,
     agregando profundidad al diseño y reforzando la estética de panel de vidrio "flotante".
     
     ¿CÓMO FUNCIONA? box-shadow crea una sombra negra suave (rgba 0,0,0) con 20% de
     opacidad que se extiende 10px abajo y se difumina sobre 30px para un fade gradual.
     
     RESULTADO: El header parece "flotar" sobre el contenido de la página como un panel
     de vidrio suspendido sobre la página. */
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

/* ¿POR QUÉ? El elemento nav contiene todos los enlaces de navegación. Necesitamos
   distribuir espacio entre el logo (izquierda) y menú (derecha) mientras mantenemos
   todo verticalmente centrado.
   
   ¿CÓMO FUNCIONA? Flexbox con justify-content: space-between empuja el primer hijo (logo)
   a la izquierda y el último hijo (enlaces nav) a la derecha, con espacio máximo entre ellos.
   
   RESULTADO: Layout clásico de header con logo a la izquierda, menú a la derecha,
   automáticamente responsivo al tamaño del contenido. */
.main-header nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  
  /* ¿POR QUÉ? Restringimos la navegación a un max-width y la centramos para que en
     pantallas muy anchas (como monitores 4K), la nav no se estire incómodamente.
     
     ¿CÓMO FUNCIONA? max-width usa nuestro ancho de contenedor estándar (1200px), y
     margin: 0 auto la centra horizontalmente. El padding previene tocar bordes en
     pantallas más pequeñas.
     
     RESULTADO: La navegación permanece legible y bien proporcionada en todos los tamaños
     de pantalla. */
  max-width: 1200px;
  margin: 0 auto;
  padding-left: var(--spacing-md);
  padding-right: var(--spacing-md);
}

/* ¿POR QUÉ? El logo necesita ser visualmente prominente y clickeable. Lo estilizamos
   como elemento de texto en lugar de imagen para flexibilidad y carga rápida.
   
   ¿CÓMO FUNCIONA? Tamaño de fuente más grande (--font-size-lg = 24px) y peso bold (700)
   lo hacen destacar. El color dorado conecta con el tema Planaxis.
   
   RESULTADO: Un identificador de marca claro y reconocible que es inmediatamente visible. */
.logo {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-bold);
  color: var(--color-accent-gold);
  /* ¿POR QUÉ? Text-transform: uppercase crea una presencia de marca fuerte y autoritaria.
     Es una técnica común para logos para aumentar impacto visual.
     
     ¿CÓMO FUNCIONA? CSS automáticamente convierte letras minúsculas a mayúsculas.
     
     RESULTADO: "Planaxis" se convierte en "PLANAXIS" - más impactante y memorable. */
  text-transform: uppercase;
  /* ¿POR QUÉ? Letter-spacing (tracking) agrega espacio entre letras, creando una
     sensación elegante y lujosa. Se usa comúnmente en branding de alta gama.
     
     ¿CÓMO FUNCIONA? 0.1em significa 10% del tamaño de fuente. A 24px, esto agrega ~2.4px
     entre letras.
     
     RESULTADO: El logo se siente premium y más fácil de leer de un vistazo. */
  letter-spacing: 0.1em;
  /* ¿POR QUÉ? Agregar una transición permite que el logo cambie suavemente de color
     en hover, proporcionando retroalimentación sutil de que es interactivo.
     
     ¿CÓMO FUNCIONA? Hacemos transición a la propiedad color sobre 200ms (rápido) con
     timing ease-in-out.
     
     RESULTADO: Interacción suave y pulida cuando los usuarios hacen hover sobre el logo. */
  transition: color var(--transition-fast) var(--easing-default);
}

/* ¿POR QUÉ? Los estados hover proporcionan retroalimentación visual de que un elemento
   es interactivo. Sin esto, los usuarios podrían no darse cuenta de que el logo es
   clickeable (retorna al homepage).
   
   ¿CÓMO FUNCIONA? En hover, cambiamos a cyan (nuestro color de acento bioluminiscente).
   
   ANALOGÍA FEYNMAN: Como cuando tocas una medusa bioluminiscente en el océano - se
   "ilumina" en respuesta a tu toque. El logo se ilumina con cyan cuando tu cursor lo toca.
   
   RESULTADO: El logo parece "iluminarse" cuando haces hover sobre él, como bioluminiscencia
   en el océano profundo. */
.logo:hover {
  color: var(--color-accent-cyan);
}

/* ¿POR QUÉ? Los enlaces de navegación necesitan estar horizontales (lado a lado) en
   lugar de apilados. Por defecto, <ul> es un elemento de bloque con viñetas.
   
   ¿CÓMO FUNCIONA? display: flex hace que los hijos (los elementos <li>) se alineen
   horizontalmente. gap agrega espaciado entre cada enlace sin márgenes manuales.
   
   RESULTADO: Un menú de navegación limpio y horizontal con espaciado consistente. */
.nav-links {
  display: flex;
  gap: var(--spacing-lg);
  align-items: center;
}

/* ¿POR QUÉ? Cada enlace de navegación debe ser un target de clic cómodo. Enlaces
   demasiado pequeños son difíciles de hacer clic, especialmente en dispositivos táctiles.
   
   ¿CÓMO FUNCIONA? Agregamos padding para aumentar el área clickeable más allá del
   texto mismo.
   
   RESULTADO: Los enlaces son más fáciles de hacer clic/tap, mejorando usabilidad en
   todos los dispositivos. */
.nav-links li a {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-main);
  padding: var(--spacing-xs) var(--spacing-sm);
  
  /* ¿POR QUÉ? Position: relative es necesario para que el pseudo-elemento ::after
     (el subrayado) se posicione relativo al enlace, no a toda la página.
     
     ¿CÓMO FUNCIONA? El elemento ::after usará position: absolute, que lo posiciona
     relativo al ancestro positioned más cercano (este enlace).
     
     RESULTADO: El subrayado animado aparece exactamente bajo el texto del enlace. */
  position: relative;
  
  /* ¿POR QUÉ? Estamos configurando transiciones tanto para color como para el elemento
     ::after's transform. Esto habilita animaciones suaves de hover.
     
     ¿CÓMO FUNCIONA? "all" significa que cada propiedad animatable hará transición,
     pero podríamos ser más específicos para rendimiento (solo hacer transición a
     propiedades que cambien).
     
     RESULTADO: Cambio suave de color y animación de subrayado en hover. */
  transition: color var(--transition-fast) var(--easing-default);
}

/* ¿POR QUÉ? El pseudo-elemento ::after crea un subrayado decorativo que se anima en
   hover. Esto es más flexible que text-decoration: underline.
   
   ¿CÓMO FUNCIONA? content: '' crea un elemento vacío. position: absolute con bottom: -4px
   lo posiciona 4px debajo del enlace. width: 0 lo hace invisible inicialmente.
   
   ANALOGÍA FEYNMAN: Es como tener una cinta invisible bajo cada enlace. Cuando haces
   hover, la cinta se "desenrolla" de izquierda a derecha, apareciendo gradualmente.
   
   RESULTADO: Un subrayado invisible que está listo para animarse en hover. */
.nav-links li a::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 0;
  height: 2px;
  background-color: var(--color-accent-gold);
  
  /* ¿POR QUÉ? Hacemos transición de width y opacity para crear un efecto suave de
     "dibujo" donde la línea parece extenderse de izquierda a derecha.
     
     ¿CÓMO FUNCIONA? Empezando en width: 0 y opacity: 0, estas animarán a width: 100%
     y opacity: 1 en hover.
     
     RESULTADO: Un subrayado elegante y animado que se dibuja a sí mismo en hover. */
  transition: width var(--transition-normal) var(--easing-default),
              opacity var(--transition-normal) var(--easing-default);
  opacity: 0;
}

/* ¿POR QUÉ? En hover, queremos que el texto del enlace se vuelva dorado y el subrayado
   aparezca. Esto proporciona retroalimentación clara e inmediata de que el enlace es
   interactivo.
   
   ¿CÓMO FUNCIONA? Cambiamos el color del texto y activamos la animación del ::after
   cambiando su width a 100% y opacity a 1.
   
   RESULTADO: Un efecto hover pulido donde el texto se vuelve dorado y un subrayado se
   dibuja suavemente de izquierda a derecha. */
.nav-links li a:hover {
  color: var(--color-accent-gold);
}

.nav-links li a:hover::after {
  width: 100%;
  opacity: 1;
}

/* ¿POR QUÉ? La clase active indica la página actual en la navegación. Los usuarios
   necesitan saber dónde están en la jerarquía del sitio.
   
   ¿CÓMO FUNCIONA? Mostramos permanentemente el subrayado dorado y texto dorado para
   la página activa.
   
   RESULTADO: Indicación visual clara de la página actual en la navegación. */
.nav-links li a.active {
  color: var(--color-accent-gold);
}

.nav-links li a.active::after {
  width: 100%;
  opacity: 1;
}

/* ¿POR QUÉ? Los dispositivos móviles necesitan un botón de menú hamburguesa ya que
   no hay suficiente espacio para todos los enlaces de navegación horizontalmente.
   Lo ocultamos por defecto (desktop-first).
   
   ¿CÓMO FUNCIONA? display: none lo remueve del layout. Media queries en responsive.css
   lo mostrarán en pantallas pequeñas.
   
   RESULTADO: El botón existe en el HTML pero está oculto hasta que se necesite en móvil. */
.mobile-menu-toggle {
  display: none;
  /* ¿POR QUÉ? Flexbox centra el ícono hamburguesa (tres líneas horizontales) dentro del botón.
     
     ¿CÓMO FUNCIONA? justify-content y align-items: center trabajan juntos para
     centrar perfectamente el ícono tanto horizontal como verticalmente.
     
     RESULTADO: El ícono hamburguesa está perfectamente centrado en su área clickeable. */
  justify-content: center;
  align-items: center;
  /* ¿POR QUÉ? Un botón cuadrado (40x40px) proporciona un target táctil cómodo en móvil.
     El HIG de Apple recomienda mínimo 44x44px, así que estamos cerca de esa pauta.
     
     ¿CÓMO FUNCIONA? Width y height fijos crean un cuadrado.
     
     RESULTADO: Botón fácil de tap que cumple pautas de accesibilidad. */
  width: 40px;
  height: 40px;
  background-color: transparent;
  border: none;
  cursor: pointer;
  /* ¿POR QUÉ? Las transiciones hacen que el ícono hamburguesa se anime suavemente
     cuando se transforma en una X (ícono cerrar) en móvil.
     
     ¿CÓMO FUNCIONA? Usaremos transform para rotar las líneas, y esta transición lo
     hace suave.
     
     RESULTADO: Animación pulida al abrir/cerrar el menú móvil. */
  transition: transform var(--transition-fast) var(--easing-default);
}

/* ============================================================================
   SELECTOR DE IDIOMA
   ============================================================================
   
   ¿POR QUÉ? El selector de idioma necesita ser visualmente distinto de los enlaces
   nav regulares mientras todavía encaja cohesivamente en el diseño de navegación.
   
   ¿CÓMO FUNCIONA? Estilizado especial para enlaces de idioma con indicadores de estado
   activo.
   
   RESULTADO: Interfaz clara y accesible de cambio de idioma. */

.language-selector {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  margin-left: var(--spacing-md);
}

.lang-link {
  padding: var(--spacing-xs) var(--spacing-sm);
  font-size: var(--font-size-sm);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  transition: all 0.3s ease;
  border-radius: var(--radius-sm);
  border-bottom: none !important;
}

.lang-link::after {
  display: none !important;
}

/* ¿POR QUÉ? El idioma activo debe estar claramente resaltado para que los usuarios
   sepan qué idioma está actualmente seleccionado.
   
   ¿CÓMO FUNCIONA? Fondo dorado con color de texto contrastante.
   
   RESULTADO: Indicador visual obvio del idioma actual. */
.lang-link.active {
  background: var(--color-gold);
  color: var(--color-bg-primary);
}

/* ¿POR QUÉ? Los idiomas no activos deben estar atenuados pero todavía accesibles.
   
   ¿CÓMO FUNCIONA? Color apagado que se ilumina en hover.
   
   RESULTADO: Jerarquía clara entre idiomas activos e inactivos. */
.lang-link:not(.active) {
  color: var(--color-text-muted);
}

.lang-link:not(.active):hover {
  color: var(--color-text-primary);
  background: rgba(255, 255, 255, 0.1);
  transform: none;
}

.lang-separator {
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}
